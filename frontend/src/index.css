@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --shell-bg-0: #070b1a;
  --shell-bg-1: #0c152b;
  --shell-bg-2: #101b36;
  --spot-a: rgba(99, 102, 241, 0.2);
  --spot-b: rgba(16, 185, 129, 0.18);
  --shell-overlay-start: rgba(5, 10, 22, 0.82);
  --shell-overlay-end: rgba(5, 10, 22, 0.95);
  --grid-line: rgba(148, 163, 184, 0.05);
  --sidebar-start: rgba(10, 16, 32, 0.96);
  --sidebar-mid: rgba(16, 28, 50, 0.95);
  --sidebar-end: rgba(21, 36, 60, 0.95);
  --header-start: rgba(10, 16, 32, 0.95);
  --header-mid: rgba(24, 38, 68, 0.93);
  --header-end: rgba(36, 52, 84, 0.94);
  --surface-grad-start: rgba(12, 18, 34, 0.92);
  --surface-grad-end: rgba(22, 32, 54, 0.86);
  --surface-border: rgba(120, 143, 173, 0.4);
  --text-main: #f7fbff;
  --text-muted: #d4e4ff;
  --text-soft: #c1cee3;
  --table-head-bg: rgba(18, 30, 52, 0.92);
  --table-row-hover: rgba(63, 83, 119, 0.32);
  --input-bg: rgba(12, 18, 32, 0.88);
  --input-border: rgba(99, 136, 194, 0.45);
  --input-placeholder: #a6b5cc;
  --banner-border: rgba(74, 222, 128, 0.52);
  --banner-grad-start: rgba(21, 128, 61, 0.7);
  --banner-grad-end: rgba(34, 197, 94, 0.55);
  --banner-text: #e7fff3;
  --btn-glow: rgba(99, 102, 241, 0.7);
}

[data-theme='emerald'] {
  --shell-bg-0: #0a1b1a;
  --shell-bg-1: #12302e;
  --shell-bg-2: #1a3f3a;
  --spot-a: rgba(52, 211, 153, 0.16);
  --spot-b: rgba(16, 185, 129, 0.12);
  --shell-overlay-start: rgba(8, 26, 25, 0.74);
  --shell-overlay-end: rgba(8, 26, 25, 0.9);
  --grid-line: rgba(110, 231, 183, 0.04);
  --sidebar-start: rgba(7, 35, 33, 0.96);
  --sidebar-mid: rgba(11, 50, 46, 0.94);
  --sidebar-end: rgba(17, 66, 60, 0.95);
  --header-start: rgba(7, 35, 33, 0.95);
  --header-mid: rgba(12, 56, 51, 0.93);
  --header-end: rgba(19, 77, 70, 0.94);
  --surface-grad-start: rgba(9, 35, 31, 0.9);
  --surface-grad-end: rgba(19, 64, 56, 0.84);
  --surface-border: rgba(110, 231, 183, 0.32);
  --text-main: #f0fdf4;
  --text-muted: #dcfce7;
  --text-soft: #bbf7d0;
  --table-head-bg: rgba(22, 78, 68, 0.82);
  --table-row-hover: rgba(21, 94, 77, 0.3);
  --input-bg: rgba(7, 31, 28, 0.82);
  --input-border: rgba(74, 222, 128, 0.34);
  --input-placeholder: #86efac;
  --banner-border: rgba(45, 212, 191, 0.42);
  --banner-grad-start: rgba(17, 94, 89, 0.72);
  --banner-grad-end: rgba(13, 148, 136, 0.42);
  --banner-text: #ccfbf1;
  --btn-glow: rgba(16, 185, 129, 0.62);
}

[data-theme='platinum'] {
  --shell-bg-0: #1c222b;
  --shell-bg-1: #252d3a;
  --shell-bg-2: #303a49;
  --spot-a: rgba(203, 213, 225, 0.11);
  --spot-b: rgba(148, 163, 184, 0.09);
  --shell-overlay-start: rgba(24, 30, 39, 0.74);
  --shell-overlay-end: rgba(24, 30, 39, 0.9);
  --grid-line: rgba(203, 213, 225, 0.04);
  --sidebar-start: rgba(28, 36, 48, 0.96);
  --sidebar-mid: rgba(35, 45, 58, 0.94);
  --sidebar-end: rgba(47, 59, 74, 0.95);
  --header-start: rgba(28, 36, 48, 0.95);
  --header-mid: rgba(41, 52, 68, 0.93);
  --header-end: rgba(58, 71, 89, 0.94);
  --surface-grad-start: rgba(31, 41, 55, 0.9);
  --surface-grad-end: rgba(51, 65, 85, 0.84);
  --surface-border: rgba(203, 213, 225, 0.32);
  --text-main: #f8fafc;
  --text-muted: #e2e8f0;
  --text-soft: #cbd5e1;
  --table-head-bg: rgba(51, 65, 85, 0.82);
  --table-row-hover: rgba(71, 85, 105, 0.32);
  --input-bg: rgba(30, 41, 59, 0.82);
  --input-border: rgba(203, 213, 225, 0.34);
  --input-placeholder: #cbd5e1;
  --banner-border: rgba(148, 163, 184, 0.45);
  --banner-grad-start: rgba(51, 65, 85, 0.72);
  --banner-grad-end: rgba(71, 85, 105, 0.42);
  --banner-text: #f1f5f9;
  --btn-glow: rgba(203, 213, 225, 0.55);
}

@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply min-h-screen antialiased;
    font-family: 'Space Grotesk', 'Segoe UI', Tahoma, sans-serif;
    font-synthesis: none;
    color: var(--text-main);
  background:
      radial-gradient(circle at 18% 12%, var(--spot-a), transparent 34%),
      radial-gradient(circle at 82% 8%, var(--spot-b), transparent 30%),
      linear-gradient(150deg, var(--shell-bg-0) 0%, var(--shell-bg-1) 48%, var(--shell-bg-2) 100%);
  background-attachment: fixed;
}

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Rajdhani', 'Space Grotesk', sans-serif;
    letter-spacing: 0.02em;
  }
}

#root,
.app-shell {
  min-height: 100vh;
}

@layer components {
  .btn-primary {
    @apply rounded-lg bg-cyan-600 px-4 py-2 font-medium text-white shadow-sm transition hover:bg-cyan-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 focus:ring-offset-2;
  }

  .card {
    @apply rounded-xl border border-white/20 bg-slate-900/70 shadow-sm;
  }

  .input-field {
    @apply block w-full rounded-lg border border-white/20 bg-slate-900/75 px-3 py-2 text-slate-100 placeholder-slate-400 transition-colors focus:ring-2 focus:ring-cyan-500/40;
  }
}

.enterprise-shell {
  position: relative;
  background: linear-gradient(180deg, var(--shell-overlay-start) 0%, var(--shell-overlay-end) 100%);
}

.enterprise-shell::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    linear-gradient(var(--grid-line) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
  background-size: 36px 36px;
  mask-image: radial-gradient(circle at 20% 20%, black 0%, transparent 80%);
  opacity: 0.45;
}

.enterprise-sidebar {
  background: linear-gradient(180deg, var(--sidebar-start) 0%, var(--sidebar-mid) 50%, var(--sidebar-end) 100%);
  border-right: 1px solid rgba(148, 163, 184, 0.25);
  backdrop-filter: blur(10px);
  box-shadow: 18px 0 46px -30px rgba(2, 6, 23, 0.95);
}

.enterprise-header {
  background: linear-gradient(90deg, var(--header-start) 0%, var(--header-mid) 50%, var(--header-end) 100%);
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 32px -24px rgba(2, 6, 23, 0.95);
}

.enterprise-main {
  position: relative;
  min-height: calc(100vh - 56px);
}

.enterprise-banner {
  border-color: var(--banner-border);
  background: linear-gradient(135deg, var(--banner-grad-start) 0%, var(--banner-grad-end) 100%);
  color: var(--banner-text);
}

.enterprise-dashboard {
  color-scheme: dark;
}

.enterprise-dashboard > * {
  animation: dashboard-fade-in 280ms ease-out both;
}

@keyframes dashboard-fade-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.enterprise-dashboard [class*='bg-white'],
.enterprise-dashboard [class*='bg-[#f'],
.enterprise-dashboard [class*='from-white'],
.enterprise-dashboard [class*='via-[#f'],
.enterprise-dashboard [class*='to-[#e'] {
  background: linear-gradient(150deg, var(--surface-grad-start) 0%, var(--surface-grad-end) 100%) !important;
  color: var(--text-main);
}

.enterprise-dashboard [class*='border-[#'],
.enterprise-dashboard [class*='border-gray'],
.enterprise-dashboard [class*='border-slate'] {
  border-color: var(--surface-border) !important;
}

.enterprise-dashboard .text-\[\#202428\],
.enterprise-dashboard .text-\[\#2a2d31\],
.enterprise-dashboard .text-\[\#2f3338\],
.enterprise-dashboard .text-\[\#3d444c\],
.enterprise-dashboard .text-\[\#42506a\],
.enterprise-dashboard .text-\[\#4b5259\],
.enterprise-dashboard .text-\[\#5f656c\],
.enterprise-dashboard .text-\[\#5f6b7a\],
.enterprise-dashboard .text-\[\#374151\],
.enterprise-dashboard .text-gray-500,
.enterprise-dashboard .text-gray-600,
.enterprise-dashboard .text-gray-700 {
  color: var(--text-muted) !important;
}

.enterprise-dashboard .text-xs,
.enterprise-dashboard .text-sm {
  color: var(--text-soft);
}

.enterprise-dashboard table thead tr {
  background: var(--table-head-bg) !important;
  color: #f1f5f9 !important;
}

.enterprise-dashboard table tbody tr {
  border-color: rgba(121, 174, 238, 0.14) !important;
}

.enterprise-dashboard table tbody tr:hover {
  background: var(--table-row-hover) !important;
}

.enterprise-dashboard .bg-white,
.enterprise-dashboard .bg-white\/90,
.enterprise-dashboard .bg-white\/95,
.enterprise-dashboard [class*="bg-[#f"],
.enterprise-dashboard [class*="bg-[#fbf"],
.enterprise-dashboard [class*="bg-[#f2f"],
.enterprise-dashboard [class*="bg-[#eef"] {
  background: linear-gradient(145deg, rgba(15, 22, 40, 0.92), rgba(21, 32, 54, 0.9)) !important;
  color: var(--text-main) !important;
}

.enterprise-dashboard input,
.enterprise-dashboard select,
.enterprise-dashboard textarea {
  background: var(--input-bg) !important;
  border-color: var(--input-border) !important;
  color: #f8fafc !important;
  color-scheme: dark;
}
.enterprise-dashboard select:focus {
  outline: 1px solid rgba(99, 136, 194, 0.7) !important;
  box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.25) !important;
}
.enterprise-dashboard select option {
  background: #0a0f1f;
  color: #e8f0ff;
}
.enterprise-dashboard select option:hover,
.enterprise-dashboard select option:checked {
  background: #132041 !important;
}
.enterprise-dashboard .dropdown-menu,
.enterprise-dashboard .select-menu,
.enterprise-dashboard .rc-select-dropdown,
.enterprise-dashboard .ant-select-dropdown,
.enterprise-dashboard .chakra-select__menu,
.enterprise-dashboard .react-select__menu,
.enterprise-dashboard .listbox {
  background: #0b1220 !important;
  color: #e8f0ff !important;
  border: 1px solid rgba(99, 136, 194, 0.35) !important;
  box-shadow: 0 18px 40px -30px rgba(0, 0, 0, 0.8) !important;
}

.enterprise-dashboard input::placeholder,
.enterprise-dashboard textarea::placeholder {
  color: var(--input-placeholder) !important;
}

.enterprise-dashboard button {
  transition: transform 120ms ease, box-shadow 140ms ease, background-color 140ms ease;
}

.enterprise-dashboard button:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 20px -18px var(--btn-glow);
}

/* Glass panels */
.enterprise-dashboard .glass-card,
.enterprise-dashboard .card,
.enterprise-dashboard section > div {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02)) !important;
  border: 1px solid rgba(148, 163, 184, 0.18) !important;
  box-shadow: 0 18px 60px -36px rgba(0, 0, 0, 0.75);
}

.enterprise-dashboard table thead th {
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.enterprise-dashboard input,
.enterprise-dashboard select,
.enterprise-dashboard textarea {
  backdrop-filter: blur(6px);
}

.enterprise-dashboard .cta-gradient {
  background: linear-gradient(90deg, #7c3aed, #22d3ee);
  color: #0b1020;
  font-weight: 800;
  box-shadow: 0 10px 30px -18px rgba(124, 58, 237, 0.9);
}

.enterprise-dashboard .cta-gradient:hover {
  filter: brightness(1.05);
}

/* Legibilidad en generador de scripts OLT / bloques <pre> */
.enterprise-dashboard pre {
  background: #0a0f1f !important;
  border: 1px solid rgba(148, 163, 184, 0.35) !important;
  color: #e8f0ff !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
}

/* Estado visual unificado: verde (ok), amarillo (pendiente), rojo (error/desconectado/deuda). */
.enterprise-dashboard .state-chip,
.enterprise-dashboard .bg-green-100.text-green-700,
.enterprise-dashboard .bg-yellow-100.text-yellow-700,
.enterprise-dashboard .bg-red-100.text-red-700,
.enterprise-dashboard .bg-gray-100.text-gray-600,
.enterprise-dashboard .bg-blue-100.text-blue-700,
.enterprise-dashboard .bg-orange-100.text-orange-700 {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  border-radius: 9999px;
  border: 1px solid transparent;
  font-weight: 700;
  letter-spacing: 0.01em;
}

.enterprise-dashboard .state-chip--good,
.enterprise-dashboard .bg-green-100.text-green-700 {
  background: rgba(22, 163, 74, 0.18) !important;
  border-color: rgba(74, 222, 128, 0.52) !important;
  color: #bbf7d0 !important;
}

.enterprise-dashboard .state-chip--warn,
.enterprise-dashboard .bg-yellow-100.text-yellow-700,
.enterprise-dashboard .bg-blue-100.text-blue-700,
.enterprise-dashboard .bg-orange-100.text-orange-700 {
  background: rgba(202, 138, 4, 0.2) !important;
  border-color: rgba(250, 204, 21, 0.5) !important;
  color: #fef08a !important;
}

.enterprise-dashboard .state-chip--bad,
.enterprise-dashboard .bg-red-100.text-red-700,
.enterprise-dashboard .bg-gray-100.text-gray-600 {
  background: rgba(220, 38, 38, 0.2) !important;
  border-color: rgba(248, 113, 113, 0.5) !important;
  color: #fecaca !important;
}

.leaflet-container {
  font-family: inherit;
}

img {
  max-width: 100%;
  height: auto;
  max-height: 320px;
  object-fit: contain;
  display: block;
}

video,
canvas {
  max-width: 100%;
  height: auto;
}

.leaflet-container img,
.leaflet-pane img,
.leaflet-control img,
.leaflet-marker-icon,
.leaflet-marker-shadow,
.leaflet-tile {
  max-width: none !important;
  max-height: none !important;
  height: auto;
  object-fit: fill;
}

::-webkit-scrollbar {
  width: 9px;
  height: 9px;
}

::-webkit-scrollbar-track {
  background: rgba(10, 20, 36, 0.9);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(66, 132, 213, 0.9), rgba(48, 95, 158, 0.95));
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(92, 166, 255, 0.95), rgba(53, 112, 184, 0.95));
}
